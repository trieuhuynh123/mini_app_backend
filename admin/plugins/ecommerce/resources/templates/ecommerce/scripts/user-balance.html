<!--
 ~ Copyright 2022 youngmonkeys.org
 ~ 
 ~ Licensed under the ezyplatform, Version 1.0.0 (the "License");
 ~ you may not use this file except in compliance with the License.
 ~ You may obtain a copy of the License at
 ~ 
 ~     https://youngmonkeys.org/licenses/ezyplatform-1.0.0.txt
 ~ 
 ~ Unless required by applicable law or agreed to in writing, software
 ~ distributed under the License is distributed on an "AS IS" BASIS,
 ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 ~ See the License for the specific language governing permissions and
 ~ limitations under the License.
-->

<!DOCTYPE html>
<html
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:th="http://www.thymeleaf.org">
<body>
<script th:fragment="balance">
ecommerce.fetchUserBalanceByUserId = function(userCurrency, callback) {
    var params = [];
    if (userCurrency.userType) {
        params.push('userType=' + userCurrency.userType);
    }
    if (userCurrency.currencyId) {
        params.push('currencyId=' + userCurrency.currencyId);
    }
    $.ajax({
        type: 'GET',
        url: '/ecommerce/api/v1/users/' + userCurrency.userId + '/balance' +
             (params.length ? ('?' + params.join(',')) : ''),
        success: function (data) {
            callback(data);
        },
        error: function (e) {
            ezyadmin.processGetApiErrors(e);
        }
    });
}
</script>
</body>
</html>
