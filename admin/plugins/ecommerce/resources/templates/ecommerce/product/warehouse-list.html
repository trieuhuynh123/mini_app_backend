<!--
 ~ Copyright 2022 youngmonkeys.org
 ~
 ~ Licensed under the ezyplatform, Version 1.0.0 (the "License");
 ~ you may not use this file except in compliance with the License.
 ~ You may obtain a copy of the License at
 ~
 ~     https://youngmonkeys.org/licenses/ezyplatform-1.0.0.txt
 ~
 ~ Unless required by applicable law or agreed to in writing, software
 ~ distributed under the License is distributed on an "AS IS" BASIS,
 ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 ~ See the License for the specific language governing permissions and
 ~ limitations under the License.
-->

<!DOCTYPE html>
<html
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:th="http://www.thymeleaf.org"
        xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
        layout:decorate="~{ezyadmin}">
<body>
<th:block th:fragment="content">
    <div class="col-12 mt-3">
        <table id="warehouseList" class="table table-bordered table-hover bg-white">
            <thead>
            <tr>
                <th>#</th>
                <th>[[#{name}]]</th>
                <th>[[#{address}]]</th>
                <th class="text-center">[[#{remain}]]</th>
                <th class="text-center">[[#{updated_at}]]</th>
                <th class="text-center">[[#{actions}]]</th>
            </tr>
            </thead>
            <tbody id="warehouseListBody">
            <tr th:each="warehouseRemainingAmount, iterator : ${warehouseRemainingAmounts}">
                <td>[[${iterator.index + 1}]]</td>
                <td>
                    <a th:if="${product.shop != null}"
                       th:href="${'/ecommerce/shops/' + product.shop.id + '/warehouses/' + warehouseRemainingAmount.warehouse.id}">
                        [[${warehouseRemainingAmount.warehouse.displayName}]]
                    </a>
                    <th:block th:if="${product.shop == null}">
                        [[${warehouseRemainingAmount.warehouse.displayName}]]
                    </th:block>
                </td>
                <td>
                    [[${warehouseRemainingAmount.warehouse.detailedAddress}]]
                </td>
                <td class="text-center">
                    [[#{${warehouseRemainingAmount.remainingAmount}}]]
                </td>
                <td class="text-center date-time-string">
                    [[${warehouseRemainingAmount.updatedAt}]]
                </td>
                <td class="text-center">
                    <a class="text-primary pr-1 cursor-pointer"
                       th:attr="onclick=|ecommerce.showEditWarehouseProductModal(${warehouseRemainingAmount.warehouse.id}, '${warehouseRemainingAmount.warehouse.displayName}', ${warehouseRemainingAmount.remainingAmount})|">
                        <i class="fas fa-edit"></i>
                    </a>
                    <a class="text-danger cursor-pointer"
                       th:attr="onclick=|ecommerce.onDeleteWarehouseProductClick(${warehouseRemainingAmount.id}, '${warehouseRemainingAmount.warehouse.displayName}', '${product.productName}')|">
                        <i class="fas fa-trash"></i>
                    </a>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</th:block>
</body>
</html>
